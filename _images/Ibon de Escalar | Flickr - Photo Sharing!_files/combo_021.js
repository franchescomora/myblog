YUI.add("flickr-groups-leave-deletor",function(e){"use strict";function t(t,n){var r={};return r.group_id=t.groupID,r.delete_photos=t.deletePhotos,e.Promise.all([n.callAPI("flickr.groups.leave",r),n.getModel("group-info-models",t.groupID)]).then(function(e){var n=e[0],r=e[1];if(n.stat==="ok")return r.leave(t.groupID),r},function(e){throw n[e.fatal?"error":"debug"]("[flickr-groups-leave] failed getting or processing API response:",e),e})}e.namespace("ModelDeletors")["flickr-groups-leave"]={run:t}},"@VERSION@",{requires:["flickr-promise"],optional:[]});
YUI.add("group-info-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){return e.ModelFetchers["flickr-groups-getInfo"].run(t,this.appContext)},join:function(t,n){return e.ModelCreators["flickr-groups-join"].run(t,n)},leave:function(t,n){return e.ModelDeletors["flickr-groups-leave"].run(t,n)}},join:function(e){var t=this.getValue(e,"group");return t&&t.setValue("isMember",!0),this},leave:function(e){var t=this.getValue(e,"group");return t&&(t.setValue("isAdmin",!1),t.setValue("isModerator",!1),t.setValue("isMember",!1),this.setValue(e,"hasPendingInvite",!1)),this},attributes:{pathAlias:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)},defaultValue:""},description:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)},defaultValue:""},secureDescription:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)},defaultValue:""},rules:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)},defaultValue:""},secureRules:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)},defaultValue:""},hasPendingInvite:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},discussionsLocked:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},privacy:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultValue:1},restrictions:{},throttle:{},poolPreviewRowsVisibleCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultFn:function(e){return 1}},coverPhotoAttribution:{},group:{isModel:!0}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","flickr-groups-getInfo-fetcher","flickr-groups-join-creator","flickr-groups-leave-deletor","attribute-helpers","group-models"]});
YUI.add("flickr-groups-getInfo-fetcher",function(e){"use strict";function t(t){var n={extras:e.APIHelper.request.getRebootPhotoExtras()+","+e.APIHelper.request.getRebootGroupExtras()+", blast_user_info, date_last_viewed, has_pending_invite, coverphoto_attribution, is_locked",secure_image_embeds:1,lang:undefined};if(t.id)n.group_id=t.id;else{if(!t.pathAlias)throw new Error("[flickr-groups-getInfo-fetcher] `id` or `pathAlias` is required.");n.group_path_alias=t.pathAlias}return n}function n(t,n){var r=t[0],i=t[1],s=t[2],o=t[3],u=t[4],a,f,l,c;return l=s.parseGroupModel(n.id,n.pathAlias,r.group),s.exists(l.id)||s.add(l),f={id:l.id,viewedPool:e.moment(r.group.viewedDates?r.group.viewedDates.pool:undefined),viewedDiscussions:e.moment(r.group.viewedDates?r.group.viewedDates.discussions:undefined),group:s.proxy(l.id)},u.exists(f.id)||u.add(f),l=s.proxy(l.id),c={id:l.id,blastMessage:r.group.blast?r.group.blast.content:"",blastMessageSecure:r.group.blast?r.group.secureBlast.content:"",blastUserId:r.group.blast?r.group.blast.userId:"",blastDateAdded:r.group.blast?e.moment(r.group.blast.dateBlastAdded,"X"):e.moment(),blastUserName:r.group.blast?r.group.blast.userName:"",blastPathAlias:r.group.blast?r.group.blast.userPathAlias:"",blastRealName:r.group.blast?r.group.blast.realName:"",blastUserStatus:r.group.blast?r.group.blast.userStatus:""},o.exists(l.id)||o.add(c),a={id:r.group.id,pathAlias:r.group.pathAlias||n.pathAlias,description:r.group.description.content,secureDescription:r.group.secureDescription?r.group.secureDescription.content:"",rules:r.group.rules.content,secureRules:r.group.secureRules.content,restrictions:r.group.restrictions,throttle:r.group.throttle,poolPreviewRowsVisibleCount:r.group.pool_rows,group:l,discussionsLocked:r.group.isLocked==="1",hasPendingInvite:r.group.has_pending_invite,coverPhotoAttribution:r.group.coverphoto},i.exists(a.id)||i.add(a),i.proxy(a.id)}function r(t,n){var r=this;return e.Promise.all([n.callAPI("flickr.groups.getInfo",this._processParams(t),!0),n.getModelRegistry("group-info-models"),n.getModelRegistry("group-models"),n.getModelRegistry("group-blast-models"),n.getModelRegistry("group-activity-models")]).then(function(e){return r._processResponse(e,t)},function(e){throw n[e.fatal?"error":"debug"]("[flickr-groups-getInfo-fetcher] failed getting or processing API response:",e),e})}e.namespace("ModelFetchers")["flickr-groups-getInfo"]={run:r,_processParams:t,_processResponse:n}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["group-info-models","group-models"]});
YUI.add("group-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,parseGroupModel:function(t,n,r){var i={id:r.id||t||r.nsid,pathAlias:r.pathAlias||n||r.pathalias,title:r.title,invitationOnly:r.invitationOnly,memberCount:r.memberCount,poolCount:r.photos,poolPreviewRowsVisibleCount:r.pool_rows,topicCount:r.topicCount==="string"?r.topicCount:undefined,pendingCount:r.pool_pending_count,memberPendingCount:r.member_pending_count,iconurls:e.APIHelper.response.agnosticizeFarmPathTransferProtocol(r.iconurls),isMember:r.is_member||r.member||r.isMember,isModerator:r.is_moderator||r.moderator||r.isModerator,isAdmin:r.is_admin||r.admin||r.isAdmin,eighteenplus:r.eighteenplus,coverPhotoUrls:e.APIHelper.response.agnosticizeFarmPathTransferProtocol(r.coverphotoUrl),latestPhotoActivity:e.moment(e.moment(r.date_activity_detail?r.date_activity_detail.pool:undefined,"X")._d),latestDiscussionActivity:e.moment(e.moment(r.date_activity_detail?r.date_activity_detail.discussions:undefined,"X")._d),showPoolToNonMembers:r.show_pool,showDiscussionToNonMembers:r.show_discussion,needsInterstitial:r.needs_interstitial},s;return typeof r.datecreate=="string"?s=r.datecreate:r.datecreate&&typeof r.datecreate.content=="string"&&(s=r.datecreate.content),s?(s+=" +0700",i.dateCreated=e.moment(s,"YYYY-MM-DD HH:mm:ss Z")):i.dateCreated=new e.moment,!i.title&&r.name&&(i.title=typeof r.name=="string"?r.name:r.name.content),!i.memberCount&&r.members&&(i.memberCount=typeof r.members!="string"?r.members.content:r.members),!i.poolCount&&r.poolCount&&(i.poolCount=typeof r.poolCount!="string"?r.poolCount.content:r.poolCount),i.topicCount||(r.topicCount?i.topicCount=typeof r.topicCount!="string"?r.topicCount.content:r.topicCount:i.topicCount=0),r.privacy&&(parseInt(r.privacy,10)?i.privacy=parseInt(r.privacy,10):r.privacy.content&&(i.privacy=r.privacy.content)),i},attributes:{title:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)},defaultValue:""},pathAlias:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)||undefined},defaultFn:function(e){return e}},isModerator:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},invitationOnly:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},isMember:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},isAdmin:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},memberCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultFn:function(e){return 0}},poolCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultFn:function(e){return 0}},friendlyPoolCount:{readOnly:!0,derivedBy:["poolCount"],getter:function(t,n){return e.Number.format(this.getValue(n,"poolCount"),{thousandsSeparator:","})}},pendingCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultFn:function(e){return 0}},memberPendingCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultFn:function(e){return 0}},topicCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultFn:function(e){return 0}},groupPoolAddURL:{readOnly:!0,derivedBy:["pathAlias"],defaultFn:function(e){return"/groups/"+this.getValue(e,"pathAlias")+"/pool/add/"}},dateCreated:{validator:function(t){return e.AttributeHelpers.validateDate(t)},setter:function(t){return e.AttributeHelpers.coerceDate(t)},defaultFn:function(t){return e.moment()},serialize:function(e){return e.format("X")},deserialize:function(t){return e.moment(t,"X")}},latestPhotoActivity:{validator:function(t){return e.AttributeHelpers.validateDate(t)},setter:function(t){return e.AttributeHelpers.coerceDate(t)},defaultFn:function(t){return e.moment()}},latestDiscussionActivity:{validator:function(t){return e.AttributeHelpers.validateDate(t)},setter:function(t){return e.AttributeHelpers.coerceDate(t)},defaultFn:function(t){return e.moment()}},showPoolToNonMembers:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},showDiscussionToNonMembers:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},eighteenplus:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},needsInterstitial:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},privacy:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultFn:function(e){return 0}},iconurls:{},bestIconURL:{readOnly:!0,derivedBy:["iconurls"],defaultFn:function(t){var n=e.URLHelper.getGroupIconURL(this.getValue(t,"iconurls"));return n?n:undefined}},url:{readOnly:!0,derivedBy:["group"],defaultFn:function(e){return"/groups/"+(this.getValue(e,"pathAlias")||e)+"/"}},urlMembersPage:{readOnly:!0,derivedBy:["group","url"],defaultFn:function(e){return this.getValue(e,"url"
)+"members"}},urlPoolPage:{readOnly:!0,derivedBy:["group","url"],defaultFn:function(e){return this.getValue(e,"url")+"pool"}},urlDiscussionPage:{readOnly:!0,derivedBy:["group","url"],defaultFn:function(e){return this.getValue(e,"url")+"discuss"}},urlPendingMembersPage:{readOnly:!0,derivedBy:["id"],defaultFn:function(e){return"/groups_pending.gne?id="+e}},urlPendingPhotosPage:{readOnly:!0,derivedBy:["pathAlias"],defaultFn:function(e){return"/groups/"+this.getValue(e,"pathAlias")+"/admin/pending"}},coverPhotoUrls:{},latestGroupActivity:{readOnly:!0,derivedBy:["latestPhotoActivity","latestDiscussionActivity","dateCreated"],defaultFn:function(e){var t=this.getValue(e,"latestDiscussionActivity"),n=this.getValue(e,"latestPhotoActivity"),r=this.getValue(e,"dateCreated"),i=r;return t.isValid()&&(i=i.min(t)),n.isValid()&&(i=i.min(n)),i}}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","api-helper","url-helper","moment","flickr-groups-getInfo-fetcher","attribute-helpers"]});
YUI.add("type-validator",function(e){function r(){var e;for(e in n)(function(){var r=n[e];t[e]=function(e){return r.test(e)}})()}var t={},n={nsid:/([0-9]+@N[0-9]+)/,pathAlias:/([0-9a-zA-Z-_]+)/,photoId:/[0-9]+/,bookId:/[0-9]+/,orderId:/[0-9]+/};r(),e.TypeValidator={matches:t}},"@VERSION@",{requires:["person-models","flickr-promise"]});
YUI.add("flickr-favorites-add-updater",function(e){"use strict";function t(e,t){var n={};return n.photo_id=e.photoId,t.callAPI("flickr.favorites.add",n).then(null,function(e){throw t[e.fatal?"error":"debug"]("[flickr-favorites-add-updater] failed getting or processing API response:",e),e})}e.namespace("ModelUpdaters")["flickr-favorites-add"]={run:t}},"@VERSION@",{requires:["flickr-promise"],optional:[]});
YUI.add("flickr-favorites-remove-updater",function(e){"use strict";function t(e,t){var n={};return n.photo_id=e.photoId,t.callAPI("flickr.favorites.remove",n).then(null,function(e){throw t[e.fatal?"error":"debug"]("[flickr-favorites-remove-updater] failed getting or processing API response:",e),e})}e.namespace("ModelUpdaters")["flickr-favorites-remove"]={run:t}},"@VERSION@",{requires:["flickr-promise"],optional:[]});
YUI.add("photo-engagement-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){return e.ModelFetchers["flickr-photos-getInfo"].run(t,this.appContext)},update:function(t,n){var r=[],i;return e.Lang.isObject(n,!0)&&"isFaved"in n&&(i=n.isFaved.newVal?"flickr-favorites-add":"flickr-favorites-remove",r.push(e.ModelUpdaters[i].run({photoId:t},this.appContext))),e.Promise.all(r)}},toggleFave:function(e){var t=this.getValue(e,"faveCount"),n=this.getValue(e,"isFaved"),r=!n,i=t+(r?1:-1);this.setValues(e,{isFaved:r,faveCount:i})},addAsFave:function(e){var t=this.getValue(e,"faveCount"),n=this.getValue(e,"isFaved");return n?!1:(this.setValues(e,{isFaved:!0,faveCount:t+1}),!0)},attributes:{ownerNsid:{},isFaved:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},faveCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return t=e.AttributeHelpers.coerceInteger(t),t<0&&(t=0),t},defaultValue:0},canShare:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},canDownload:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},commentCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return t=e.AttributeHelpers.coerceInteger(t),t<0&&(t=0),t},defaultValue:0},noteCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return t=e.AttributeHelpers.coerceInteger(t),t<0&&(t=0),t},defaultValue:0},viewCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return t=e.AttributeHelpers.coerceInteger(t),t<0&&(t=0),t},defaultValue:0},isOwner:{readOnly:!0,derivedBy:["owner"],getter:function(e,t){var n=this.appContext.getViewer();return!!n.signedIn&&this.getValue(t,"ownerNsid")===n.nsid}},canFave:{readOnly:!0,derivedBy:["is_owner"],getter:function(e,t){return!this.getValue(t,"isOwner")}}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","flickr-photos-getInfo-fetcher","flickr-favorites-add-updater","flickr-favorites-remove-updater","attribute-helpers"]});
YUI.add("flickr-photos-setDates-updater",function(e){"use strict";function t(t,n){var r={};return t.fullResponse?(r.photo_ids=t.photoId,r.full_response=1,t.datePosted&&(r.date_posted=t.datePosted),t.dateTaken&&(r.date_taken=t.dateTaken),t.takenGranularity>=0&&t.takenGranularity<=10&&(r.date_taken_granularity=t.takenGranularity)):(r.photo_id=t.photoId,r.date_posted=t.datePosted,r.date_taken=t.dateTaken,r.date_taken_granularity=t.takenGranularity),e.Promise.all([n.callAPI("flickr.photos.setDates",r),n.getModelRegistry("photo-stats-models")]).then(function(e){var r=e[0],i=e[1],s;s=r.errors;if(t.fullResponse){if(s&&r.errors.length>0)return s}else{if(!i.exists(t.photoId))throw new Error("[flickr-photos-setDates-updater] - Photo-stats model can not be updated if it does not exist");!r.photo||!r.photo.datePosted||!r.photo.dateTaken?n.warn("[flickr-photos-setDates-updater] - No updated data returned from API."):i.setValues(t.photoId,{datePosted:r.photo.datePosted.content,dateTaken:r.photo.dateTaken.content,takenGranularity:r.photo.dateTakenGranularity.content})}},function(e){throw t.fullResponse?e.photoIds=t.photoId:n[e.fatal?"error":"debug"]("[flickr-photos-setDates-updater] failed getting or processing API response:",e),e})}e.namespace("ModelUpdaters")["flickr-photos-setDates"]={run:t}},"@VERSION@",{requires:["flickr-promise"],optional:[]});
YUI.add("photo-stats-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{langBundles:this.details.langBundles,name:this.name,remote:{read:function(t){return e.ModelFetchers["flickr-photos-getInfo"].run(t,this.appContext)},update:function(t,n){var r={photoId:t};return n.datePosted&&(r.datePosted=n.datePosted.newVal),n.dateTaken&&(r.dateTaken=n.dateTaken.newVal),n.takenGranularity&&(r.takenGranularity=n.takenGranularity.newVal),e.ModelUpdaters["flickr-photos-setDates"].run(r,this.appContext)},batchUpdate:function(t,n){return"postedDate"in n&&"takenDate"in n?e.ModelUpdaters["flickr-photos-setDates"].run({photoId:t,datePosted:n.postedDate,dateTaken:n.takenDate,takenGranularity:n.takenGranularity,fullResponse:1},this.appContext):"postedDate"in n?e.ModelUpdaters["flickr-photos-setDates"].run({photoId:t,datePosted:n.postedDate,fullResponse:1},this.appContext):e.ModelUpdaters["flickr-photos-setDates"].run({photoId:t,dateTaken:n.takenDate,takenGranularity:n.takenGranularity,fullResponse:1},this.appContext)}},attributes:{dateTaken:{},datePosted:{},takenGranularity:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){t=e.AttributeHelpers.coerceInteger(t);if(t<0||t>10)t=undefined;return t},defaultValue:0},isCirca:{readOnly:!0,derivedBy:["takenGranularity"],defaultFn:function(e){return this.getValue(e,"takenGranularity")===8}},isSometime:{readOnly:!0,derivedBy:["takenGranularity"],defaultFn:function(e){return this.getValue(e,"takenGranularity")===6}}},getDateObj:function(t,n){if(n!=="dateTaken"&&n!=="datePosted")throw new Error(this.intlMessage({intlName:"models.BAD_DATE_TYPE"}));var r={},i=this.getValue(t,n),s=this.getValue(t,"takenGranularity");return i?(n==="dateTaken"?s===8?r={granularity:s,year:i.replace(/^([\d]+)(.*)/g,"$1"),monthName:this.intlMessage({intlName:"common.CIRCA"})}:s===6?(i=e.moment(i),r={granularity:s,year:i.format("YYYY"),monthName:this.intlMessage({intlName:"common.SOMETIME_IN"})}):s===4?(i=e.moment(i),r={granularity:s,year:i.format("YYYY"),month:i.format("M"),monthName:i.format("MMMM")}):(i=e.moment(i),r={granularity:s,year:i.format("YYYY"),month:i.format("M"),monthName:i.format("MMMM"),day:i.format("D"),hour:i.format("HH"),minute:i.format("mm"),second:i.format("ss")}):(i=e.moment(i,"X"),r={granularity:s,year:i.format("YYYY"),month:i.format("M"),monthName:i.format("MMMM"),day:i.format("D"),hour:i.format("HH"),minute:i.format("mm"),second:i.format("ss")}),r):{}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","flickr-photos-getInfo-fetcher","attribute-helpers","flickr-photos-setDates-updater","moment"],langBundles:["models","common"]});
YUI.add("hermes-lang-models_es-us",function(e,t){e.Intl.add("hermes/models","es-US",{YOUR_PHOTOSTREAM:["Tu galer\u00eda"],USER_PHOTOSTREAM:["La galer\u00eda de ","${name}"],PHOTOSTREAM:["Galer\u00eda"],ZERO_PHOTOS:["0 fotos"],ONE_PHOTO:["1 foto"],MULTIPLE_PHOTOS:["${photos}"," fotos"],ONE_VIDEO:["1 video"],ONE_PHOTO_AND_ONE_VIDEO:["Una foto y un video"],MULTIPLE_PHOTOS_AND_ONE_VIDEO:["${photos}"," fotos y 1 video"],MULTIPLE_VIDEOS:["${videos}"," videos"],ONE_PHOTO_AND_MULTIPLE_VIDEOS:["1 foto y ","${videos}"," videos"],MULTIPLE_PHOTOS_AND_MULTIPLE_VIDEOS:["${photos}"," fotos y ","${videos}"," videos"],PHOTO_LIST:["Lista de fotos"],EXPlORE_TITLE:["Explorar ","${id}"],BAD_DATE_TYPE:["Tipo de fecha incorrecto"]})},"@VERSION@",{requires:["intl"]});
YUI.add("hermes-lang-common_es-us",function(e,t){e.Intl.add("hermes/common","es-US",{SIGN_UP:["Reg\u00edstrate"],YOU:["T\u00fa"],PHOTOSTREAM:["Galer\u00eda"],SETS:["Juegos"],ALBUMS:["\u00c1lbumes"],MAP:["Mapa"],FAVORITES:["Favoritos"],GALLERIES:["Galer\u00edas"],COLLECTIONS:["Colecciones"],ARCHIVES:["Archivos"],TAGS:["Etiquetas"],PHOTOS_OF:["Fotos acerca de"],PROFILE:["Perfil"],POPULAR:["Populares"],EXPLORE:["Explorar"],ACTIVITY:["Actividad reciente"],STATS:["Estad\u00edsticas"],ORGANIZE:["Organizar"],HELP:["Ayuda"],SETTINGS:["Ajustes"],SIGN_OUT:["Salir"],FLICKRMAIL:["FlickrMail"],ERROR:["Error"],OK:["Aceptar"],OOPS:["\u00a1Uy!"],SIGN_IN:["Iniciar sesi\u00f3n"],FORGET_IT:["Olv\u00eddalo"],WARNING:["Advertencia"],DONE:["Hecho"],ZOINKS:["\u00a1Caramba!"],CANCEL:["Cancelar"],ON:["Activada"],OFF:["Desactivada"],ABOUT:["Acerca de"],JOBS:["Empleos"],BLOG:["Blog"],APPS:["Aplicaciones"],BRAND:["Marca"],DEVELOPERS:["Desarrolladores"],STATUS:["Estado"],COMMUNITY_GUIDELINES:["Normas de la comunidad"],REPORT_ABUSE:["Denunciar abuso"],PRIVACY:["Privacidad"],TERMS:["Condiciones"],YAHOO_SAFELY:["Yahoo Seguridad"],FEEDBACK:["Comentarios"],MOBILE:["M\u00f3vil"],APP_GARDEN:["App Garden"],COMMUNITY:["Comunidad"],API_DOC:["Doc de API"],DEVELOPER_GUIDE:["Gu\u00eda del desarrollador"],DEVELOPER_BLOG:["Blog del desarrollador"],HELP_FORUM:["Foro de ayuda"],GUIDELINES:["Reglas de uso"],NUMBER:[{type:"number",valueName:"num"}],RETRY:["Reintentar"],EDIT:["Editar"],MORE:["M\u00e1s"],DELETE:["Eliminar"],LOADING:["Cargando"],FOLLOW:["Seguir"],FOLLOWING:["Siguiendo"],UNFOLLOW:["Dejar de seguir"],FRIEND:["Amigo"],FAMILY:["Familia"],A_YAHOO_COMPANY:["Flickr, una compa\u00f1\u00eda de Yahoo"],A_YAHOO_COMPANY_WITH_LINK:['Flickr, <a href="https://info.yahoo.com">una compa\u00f1\u00eda de Yahoo</a>'],CONFIRMATION:["Confirmaci\u00f3n"],FAVORITE:["Favorito"],SEARCH:["Buscar"],CONFIRM:["Confirmar"],SELECT:["Seleccionar"],NEW:["Nuevo"],LOADING_WITH_ELLIPSES:["Cargando..."],NONE:["Ninguna"],TITLE:["T\u00edtulo"],DESCRIPTION:["Descripci\u00f3n"],DECLINE:["Rechazar"],ACCEPT:["Aceptar"],CIRCA:["Circa"],SOMETIME_IN:["En alg\u00fan momento durante"],JANUARY:["Enero"],FEBRUARY:["Febrero"],MARCH:["Marzo"],APRIL:["Abril"],MAY:["Mayo"],JUNE:["Junio"],JULY:["Julio"],AUGUST:["Agosto"],SEPTEMBER:["Septiembre"],OCTOBER:["Octubre"],NOVEMBER:["Noviembre"],DECEMBER:["Diciembre"],SAVE:["Guardar"],PLEASE_TRY_AGAIN:["Int\u00e9ntalo nuevamente."],YES:["S\u00ed"],SQUARE:["Cuadrado"],THUMBNAIL:["Vista en miniatura"],SMALL:["Peque\u00f1o"],MEDIUM:["Mediano"],LARGE:["Grande"],ORIGINAL:["Original"],REPLACE:["Reemplazar"],SAVING:["Guardando"],REPLACING:["Reemplazando"],JOIN:["Unirse"],SELECTED:["seleccionado"],PREVIEW:["Vista previa"],DATE_TAKEN:["Fecha en que se tom\u00f3"],DATE_POSTED:["Fecha de publicaci\u00f3n"],PEOPLE:["Gente"],INVALID_DATE:["Fecha no v\u00e1lida."],INVALID_DATE_TAKEN:["Fecha en la que se tom\u00f3 no v\u00e1lida."],INVALID_DATE_POSTED:["Fecha de publicaci\u00f3n no v\u00e1lida."],FUTURE_DATE_POSTED:["La fecha de publicaci\u00f3n est\u00e1 establecida en el futuro."]})},"@VERSION@",{requires:["intl"]});
YUI.add("flickr-favorites-getContext-fetcher",function(e){"use strict";function t(t){var n={photo_id:t.photoId,num_prev:t.numNext,num_next:t.numPrev,extras:e.APIHelper.request.getRebootPhotoExtras()};return t.id?n.user_id=t.id:n.path_alias=t.pathAlias,n}function n(t,n){var r=t[0],i=t[1],s=t[2],o=t[3],u=t[4],a=t[5],f=[],l=[],c=s.proxy(n.photoId),h,p,d,v,m,g,y=[];return h=r.prevphotos,p=r.nextphotos,l=e.APIHelper.response.parsePhotos({photos:h.photo,personModelRegistry:o,photoModelRegistry:s,photoEngagementModelRegistry:u,photoStatsModelRegistry:a}),f=e.APIHelper.response.parsePhotos({photos:p.photo,personModelRegistry:o,photoModelRegistry:s,photoEngagementModelRegistry:u,photoStatsModelRegistry:a}),g=i.getValue(n.id,"photoContextList"),v=g.hasMinBoundary?g.hasMinBoundary():!1,m=g.hasMaxBoundary?g.hasMaxBoundary():!1,d=g.getList(),y=e.APIHelper.response.addOrReplaceListByContext({model:c,next:l,prev:f.reverse(),hasMax:m,hasMin:v,current:d,numNext:n.numNext,numPrev:n.numPrev}),i.setValue(n.id,"photoContextList",y),{next:l,previous:f.reverse()}}function r(t,n){var r=this;return e.Promise.all([n.callAPI("flickr.favorites.getContext",this._processParams(t),!0),n.getModelRegistry("favorite-models"),n.getModelRegistry("photo-models"),n.getModelRegistry("person-models"),n.getModelRegistry("photo-engagement-models"),n.getModelRegistry("photo-stats-models")]).then(function(e){return r._processResponse(e,t)},function(e){throw n[e.fatal?"error":"debug"]("[flickr-favorites-getContext-fetcher] failed getting or processing API response:",e),e.code===3&&e.message==="Photo not a favorite"&&(e.notInContext=!0),e})}e.namespace("ListFetchers")["flickr-favorites-getContext"]={run:r,_processParams:t,_processResponse:n}},"@VERSION@",{requires:["flickr-promise","api-helper","type-validator"],optional:["favorite-models","photo-models","person-models","photo-engagement-models","photo-stats-models"]});
YUI.add("flickr-favorites-getList-fetcher",function(e){"use strict";function t(t){var n={extras:e.APIHelper.request.getRebootPhotoExtras(),per_page:t.perPage||20,page:t.page||1,get_user_info:1};if(t.id)n.user_id=t.id;else{if(!t.pathAlias)throw new Error("[flickr-favorites-getList-fetcher] `id` or `pathAlias` is required.");n.path_alias=t.pathAlias}return n}function n(t,n){var r=t[0],i=t[1],s=t[2],o=t[3],u=t[4],a=t[5],f={id:r.user.nsid,pathAlias:r.user.pathAlias};return f.owner=e.APIHelper.response.parsePerson(r.user),s.exists(f.owner.id)||s.add(f.owner),f.owner=s.proxy(f.owner.id),f.photoPageList=e.APIHelper.response.parsePhotos({photos:r.photos.photo,personModelRegistry:s,photoModelRegistry:i,photoEngagementModelRegistry:u,photoStatsModelRegistry:a}),o.exists(f.id)?o.setValue(f.id,"photoPageList",f.photoPageList):o.add(f),f.photoPageList}function r(t,n){var r=this,i=n.getViewer().signedIn?"flickr.favorites.getList":"flickr.favorites.getPublicList";return e.Promise.all([n.callAPI(i,this._processParams(t)),n.getModelRegistry("photo-models"),n.getModelRegistry("person-models"),n.getModelRegistry("favorite-models"),n.getModelRegistry("photo-engagement-models"),n.getModelRegistry("photo-stats-models")]).then(function(e){return r._processResponse(e,t)},function(e){throw n[e.fatal?"error":"debug"]("[flickr-favorites-getList-fetcher] failed getting or processing API response:",e),e})}e.namespace("ListFetchers")["flickr-favorites-getList"]={run:r,_processParams:t,_processResponse:n}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["photo-models","person-models","favorite-models","photo-engagement-models","photo-stats-models"]});
YUI.add("favorite-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){return e.ListFetchers["flickr-favorites-getList"].run(t,this.appContext)}},attributes:{displayType:{readOnly:!0,defaultFn:function(){return"favorites"}},title:{readOnly:!0,derivedBy:["owner"],defaultFn:function(e){var t=this.appContext.getViewer(),n;return t&&t.nsid===e?"Your favorites":(n=this.getValue(e,"owner"),n?n.getValue("displayname")+"'s favorites":"Favorites")}},pathAlias:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)||undefined},defaultFn:function(e){return e}},owner:{isModel:!0},photoPageList:{isListProxy:!0,pageFetch:{listFetcher:e.ListFetchers["flickr-favorites-getList"]}},photoContextList:{isListProxy:!0,contextFetch:{listFetcher:e.ListFetchers["flickr-favorites-getContext"],listItemIdField:"photoId"}},url:{readOnly:!0,derivedBy:["owner"],defaultFn:function(e){var t=this.getValue(e,"owner"),n=t?t.getValue("pathAlias"):e;return"/photos/"+n+"/favorites/"}},urlSuffix:{readOnly:!0,derivedBy:["owner"],defaultFn:function(e){var t=this.getValue(e,"owner"),n=t.getValue("pathAlias");return"faves-"+n}}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","flickr-favorites-getContext-fetcher","flickr-favorites-getList-fetcher"]});
YUI.add("flickr-groups-pools-getContext-fetcher",function(e){"use strict";function t(t){var n={photo_id:t.photoId,extras:e.APIHelper.request.getRebootPhotoExtras()+",datecreate",num_prev:t.numNext,num_next:t.numPrev,get_group_info:1};if(t.id)n.group_id=t.id;else{if(!t.pathAlias)throw new Error("[flickr-groups-pools-getPhotos-fetcher] `id` or `pathAlias` is required.");n.group_path_alias=t.pathAlias}return n}function n(t,n){var r=t[0],i=t[1],s=t[2],o=t[3],u=t[4],a=t[5],f=[],l=[],c=s.proxy(n.photoId),h,p,d,v,m,g,y=[];return h=r.prevphotos,p=r.nextphotos,l=e.APIHelper.response.parsePhotos({photos:h.photo,personModelRegistry:o,photoModelRegistry:s,photoEngagementModelRegistry:u,photoStatsModelRegistry:a}),f=e.APIHelper.response.parsePhotos({photos:p.photo,personModelRegistry:o,photoModelRegistry:s,photoEngagementModelRegistry:u,photoStatsModelRegistry:a}),g=i.getValue(n.id,"photoContextList"),v=g.hasMinBoundary?g.hasMinBoundary():!1,m=g.hasMaxBoundary?g.hasMaxBoundary():!1,d=g.getList(),y=e.APIHelper.response.addOrReplaceListByContext({model:c,next:l,prev:f.reverse(),current:d,hasMin:v,hasMax:m,numNext:n.numNext,numPrev:n.numPrev}),i.setValue(n.id,"photoContextList",y),{next:l,previous:f.reverse()}}function r(t,n){var r=this;return e.Promise.all([n.callAPI("flickr.groups.pools.getContext",this._processParams(t),!0),n.getModelRegistry("group-pool-models"),n.getModelRegistry("photo-models"),n.getModelRegistry("person-models"),n.getModelRegistry("photo-engagement-models"),n.getModelRegistry("photo-stats-models")]).then(function(e){return r._processResponse(e,t)},function(e){throw n[e.fatal?"error":"debug"]("[flickr-groups-pools-getContext-fetcher] failed getting or processing API response:",e),e.code===2&&e.message==="Photo not in pool"&&(e.notInContext=!0),e})}e.namespace("ListFetchers")["flickr-groups-pools-getContext"]={run:r,_processParams:t,_processResponse:n}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["favorite-models","photo-models","photo-engagement-models","photo-stats-models","group-models"]});
YUI.add("flickr-groups-pools-add-creator",function(e){"use strict";function t(t){var n={photo_id:t.photoID,group_id:e.Models["group-pool-models"].extractGroupFromCompoundId(t.groupID)};return n}function n(e,t){var n=e.apiResponse,r=e.groupPoolModel,i=e.photoModel,s=e.photoGroupsModelRegistry,o=e.photoContextsModelRegistry,u=e.unfilteredGroupPoolModel;if(n.stat==="ok")return r&&!r.hasPhoto(i.getValue("id"))&&(r.addPhotoLocal(i),r.getValue("group").setValue("poolCount",r.getValue("group").getValue("poolCount")+1)),u&&u.hasPhoto(i.getValue("id"))&&u.addPhotoLocal(i),s.exists(t.photoID)&&!s.getValue(t.photoID,"groups").getFromListByID(t.unfilteredGroupId)&&(s.getValue(t.photoID,"groups").prependToList(r),s.setValue(t.photoID,"total",s.getValue(t.photoID,"total")+1)),o.exists(t.photoID)&&!o.getValue(t.photoID,"contexts").getFromListByID(t.unfilteredGroupId)&&(o.setValue(t.photoID,"totalGroups",o.getValue(t.photoID,"totalGroups")+1),o.getValue(t.photoID,"contexts").appendToList(r)),r}function r(t,n){var r=this,i=this._processParams(t),s=t.registryName||"group-pool-models",o={apiResponse:n.callAPI("flickr.groups.pools.add",i),groupPoolModel:n.getModel(s,t.groupID),photoModel:n.getModel("photo-models",t.photoID),photoGroupsModelRegistry:n.getModelRegistry("photo-groups-models"),photoContextsModelRegistry:n.getModelRegistry("photo-contexts-models")};return t.unfilteredGroupId=i.group_id,s!=="group-pool-models"&&(o.unfilteredGroupPoolModel=n.getModel("group-pool-models",t.unfilteredGroupId)),(new e.FlickrPromise(o)).then(function(e){return r._processResponse(e,t)},function(e){throw n[e.fatal?"error":"debug"]("[flickr-groups-pools-add-creator] failed getting or processing API response:",e),e})}e.namespace("ModelCreators")["flickr-groups-pools-add"]={run:r,_processParams:t,_processResponse:n}},"@VERSION@",{requires:["flickr-promise","group-pool-models"],optional:[]});
YUI.add("flickr-groups-pools-remove-deletor",function(e){"use strict";function t(t){var n={photo_id:t.photoID,group_id:e.Models["group-pool-models"].extractGroupFromCompoundId(t.groupID)};return n}function n(e,t){var n=e.apiResponse,r=e.groupPoolModelRegistry,i=e.photoModelRegistry,s=e.photoGroupsModelRegistry,o=e.photoContextsModelRegistry,u=e.unfilteredGroupPoolModelRegistry;if(n.stat==="ok")return o.exists(t.photoID)&&o.getValue(t.photoID,"contexts").getFromListByID(t.unfilteredGroupId)&&(o.setValue(t.photoID,"totalGroups",o.getValue(t.photoID,"totalGroups")-1),o.getValue(t.photoID,"contexts").removeFromList(t.unfilteredGroupId)),s.exists(t.photoID)&&s.getValue(t.photoID,"groups").getFromListByID(t.unfilteredGroupId)&&(s.setValue(t.photoID,"total",s.getValue(t.photoID,"total")-1),s.getValue(t.photoID,"groups").removeFromList(t.unfilteredGroupId)),r&&(r.hasPhoto(i.getValue("id"))&&r.removePhotoLocal(i),r.getValue("group").setValue("poolCount",r.getValue("group").getValue("poolCount")-1)),u&&u.hasPhoto(i.getValue("id"))&&u.removePhotoLocal(i),r}function r(t,n){var r=this,i=this._processParams(t),s=t.registryName||"group-pool-models",o={apiResponse:n.callAPI("flickr.groups.pools.remove",i),groupPoolModelRegistry:n.getModel(s,t.groupID),photoModelRegistry:n.getModel("photo-models",t.photoID),photoGroupsModelRegistry:n.getModelRegistry("photo-groups-models"),photoContextsModelRegistry:n.getModelRegistry("photo-contexts-models")};return t.unfilteredGroupId=i.group_id,s!=="group-pool-models"&&(o.unfilteredGroupPoolModelRegistry=n.getModel("group-pool-models",t.unfilteredGroupId)),(new e.FlickrPromise(o)).then(function(e){return r._processResponse(e,t)},function(e){throw n[e.fatal?"error":"debug"]("[flickr-groups-pools-remove-deletor] failed getting or processing API response:",e),e})}e.namespace("ModelDeletors")["flickr-groups-pools-remove"]={run:r,_processParams:t,_processResponse:n}},"@VERSION@",{requires:["flickr-promise","group-pool-models"],optional:[]});
YUI.add("flickr-groups-invite-photo-invite-creator",function(e){"use strict";function t(t,n){var r={},i=e.Models["group-pool-models"].extractGroupFromCompoundId(t.groupID);return r.photo_id=t.photoID,r.group_id=i,e.Promise.all([n.callAPI("flickr.groups.invite.photo.invite",r),n.getModel("group-pool-models",i),n.getModelRegistry("photo-group-invitation-models"),n.getModelRegistry("photo-group-invitations-models")]).then(function(e){var r=e[0],s=e[1],o=e[2],u=e[3],a,f,l;if(r.stat==="ok")return a=[t.photoID,i].join("-"),f={id:a,photoId:t.photoID,groupId:i,invitedBy:n.getViewer().nsid},l=o.exists(a)?o.proxy(a):o.add(f),u.exists(t.photoID)&&!u.getValue(t.photoID,"invitations").getFromListByID(a)&&(u.getValue(t.photoID,"groups").prependToList(s),u.getValue(t.photoID,"invitations").prependToList(l),u.setValue(t.photoID,"total",u.getValue(t.photoID,"total")+1)),s},function(e){throw n[e.fatal?"error":"debug"]("[flickr-groups-invite-photo-invite] failed getting or processing API response:",e),e})}e.namespace("ModelCreators")["flickr-groups-invite-photo-invite"]={run:t}},"@VERSION@",{requires:["flickr-promise","group-pool-models"],optional:[]});
YUI.add("flickr-groups-invite-photo-cancel-deletor",function(e){"use strict";function t(t,n){var r={},i=e.Models["group-pool-models"].extractGroupFromCompoundId(t.groupID);return r.photo_id=t.photoID,r.group_id=i,e.Promise.all([n.callAPI("flickr.groups.invite.photo.cancel",r),n.getModel("group-pool-models",i),n.getModelRegistry("photo-group-invitation-models"),n.getModelRegistry("photo-group-invitations-models")]).then(function(e){var n=e[0],r=e[1],s=e[2],o=e[3],u;if(n.stat==="ok")return u=[t.photoID,i].join("-"),o.exists(t.photoID)&&o.getValue(t.photoID,"invitations").getFromListByID(u)&&(o.setValue(t.photoID,"total",o.getValue(t.photoID,"total")-1),o.getValue(t.photoID,"groups").removeFromList(i),o.getValue(t.photoID,"invitations").removeFromList(u)),s.remove(u),r},function(e){throw n[e.fatal?"error":"debug"]("[flickr-groups-invite-photo-cancel] failed getting or processing API response:",e),e})}e.namespace("ModelDeletors")["flickr-groups-invite-photo-cancel"]={run:t}},"@VERSION@",{requires:["flickr-promise","group-pool-models"],optional:[]});
YUI.add("group-pool-by-person-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.Models["group-pool-models"],{name:this.name,attributes:e.merge(e.Models["group-pool-models"].prototype.attributes,{personFilter:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)},defaultValue:null}})})},"@VERSION@",{requires:["attribute-helpers","group-pool-models","flickr-groups-pools-getPhotos-fetcher","flickr-groups-pools-add-creator","flickr-groups-pools-remove-deletor","flickr-groups-invite-photo-invite-creator","flickr-groups-invite-photo-cancel-deletor"]});
